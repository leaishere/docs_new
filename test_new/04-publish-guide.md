# 发布与预览指南

> 🎯 **目标**：掌握文档的预览、发布和权限管理流程

## 🔍 实时预览

### 📱 预览功能
我们支持文档的实时预览功能：
- 仓库内的所有变更都可以实时查看
- 无需等待发布即可预览效果
- 支持样式、图片、链接的完整预览

### 🔗 预览入口
1. 前往[发布页面](https://cms-docs.ucloudadmin.com/ucpublishnew.html)
2. 找到您的产品文档
3. 点击"**前往预览**"按钮

![预览页面](images/image-20200113184021386.png)

### 💡 预览最佳实践
- **每次编辑后**都要预览检查
- **发布前**必须完整预览
- **重点检查**：样式、图片、链接、导航

## 🚀 文档发布

### 📋 发布前检查清单

#### ✅ 权限确认
- [ ] 拥有仓库master权限
- [ ] GitHub邮箱已公开
- [ ] Primary邮箱是UCloud邮箱
- [ ] 已完成至少一次commit

#### ✅ 内容检查
- [ ] 文档内容完整准确
- [ ] 图片显示正常
- [ ] 链接可正常访问
- [ ] 导航菜单正确
- [ ] 预览效果符合预期

### 🎯 发布操作

1. **进入发布页面**
   访问：[发布页面](https://cms-docs.ucloudadmin.com/ucpublishnew.html)

2. **选择文档**
   在列表中找到您的产品文档

3. **执行发布**
   点击"**发布**"按钮

4. **确认发布**
   等待发布完成提示

### ⏰ 发布时机建议

#### 🟢 适合发布的时机
- 内容已完整编写和校对
- 预览效果完全符合预期
- 所有链接和图片正常
- 已通过内部审核

#### 🔴 不适合发布的情况
- 内容尚未完成
- 存在明显错误
- 图片或链接失效
- 格式混乱

## 🔐 发布权限管理

### 🚨 权限问题排查

如果您无法发布，请按以下步骤排查：

#### Step 1: 检查GitHub邮箱设置

1. **确认Primary邮箱**
   - 登录GitHub
   - 进入Settings → Emails
   - 确认Primary邮箱是UCloud邮箱

2. **公开邮箱地址**
   - 在Emails设置页面
   - **取消勾选**"Keep my email addresses private"
   
   ![邮箱设置](images/setting.png)
   ![取消私有](images/keep-private-new.png)

#### Step 2: 确认仓库权限

1. **检查权限级别**
   - 进入您的仓库
   - 查看是否显示"master"权限
   - 确认可以直接编辑文件

2. **联系管理员**
   如果权限不足，联系：
   - 平台产品经理
   - 主仓库管理者

#### Step 3: 完成首次提交

1. **进行任意修改**
   - 在仓库中任选一篇文档
   - 进行小的修改（如添加空行）
   - 填写commit信息并提交

2. **验证权限**
   - 等待几分钟
   - 重新访问发布页面
   - 检查是否获得发布权限

### 🔧 权限激活步骤

**完整的权限激活流程**：

1. ✅ 使用UCloud邮箱注册GitHub
2. ✅ 设置UCloud邮箱为Primary邮箱
3. ✅ 取消"Keep Private"设置
4. ✅ 获得仓库master权限
5. ✅ 完成至少一次commit操作
6. ✅ 前往发布页面验证权限

## 📊 发布后管理

### 🔄 更新发布

#### 内容更新流程
1. 在GitHub中修改文档
2. 提交更改
3. 预览检查效果
4. 重新发布

#### 更新频率建议
- **重要更新**：立即发布
- **日常维护**：定期批量发布
- **紧急修复**：优先发布

### 📈 发布质量监控

#### 发布后检查
- [ ] 线上内容显示正确
- [ ] 所有功能正常工作
- [ ] 用户反馈收集
- [ ] 访问数据监控

#### 问题处理
- **发现问题**：立即修复并重新发布
- **用户反馈**：及时响应和处理
- **定期优化**：根据数据优化内容

## 🆘 常见发布问题

### Q: 为什么我没有发布权限？

**A: 逐步排查以下问题：**

1. **邮箱问题**
   - Primary邮箱不是UCloud邮箱
   - 邮箱地址未公开
   
2. **权限问题**
   - 未获得仓库master权限
   - 权限申请未完成
   
3. **操作问题**
   - 未完成首次commit
   - 等待时间不够

**解决方案**：
- 检查并修正邮箱设置
- 联系平台负责人确认权限
- 完成一次文档修改并提交

### Q: 发布后内容没有更新怎么办？

**A: 可能的原因和解决方案：**

1. **缓存问题**
   - 清除浏览器缓存
   - 等待几分钟后重新访问
   
2. **发布失败**
   - 检查发布页面是否有错误提示
   - 重新执行发布操作
   
3. **内容问题**
   - 确认GitHub上的内容已更新
   - 检查文件路径和命名

### Q: 预览正常但发布后显示异常？

**A: 排查步骤：**

1. **格式检查**
   - 验证Markdown语法
   - 检查特殊字符
   
2. **路径检查**
   - 确认图片路径正确
   - 验证链接地址
   
3. **权限检查**
   - 确认所有引用文件都有访问权限
   - 检查外部链接有效性

### Q: 如何撤销已发布的内容？

**A: 撤销方法：**

1. **内容修改**
   - 在GitHub中修改或删除内容
   - 重新发布覆盖
   
2. **紧急处理**
   - 联系平台产品经理
   - 申请紧急下线
   
3. **预防措施**
   - 发布前充分预览
   - 重要内容多人审核

## 📋 发布最佳实践

### 🎯 发布策略

1. **分阶段发布**
   - 先发布核心内容
   - 逐步完善细节
   - 收集反馈优化

2. **版本管理**
   - 重要版本打标签
   - 记录变更日志
   - 保留历史版本

3. **质量控制**
   - 建立审核流程
   - 定期质量检查
   - 持续改进优化

### 📊 效果评估

1. **数据监控**
   - 访问量统计
   - 用户行为分析
   - 反馈收集

2. **持续优化**
   - 根据数据调整内容
   - 优化用户体验
   - 更新过时信息

---

🎯 **下一步**：[高级功能使用](05-advanced-features.md)